{
  "title": "Visualisierungskonfigurationen",
  "description": "Messdaten und Konfigurationen",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": ["name"],
    "properties": {
      "name": {
        "title": "Messanlage",
        "description": "Interner Name (verwendet für die Datenbank)",
        "type": "string"
      },
      "title": {
        "title": "Titel",
        "description": "Anzuzeigender Titel",
        "type": "string"
      },
      "connection": {
        "title": "Anbindungen",
        "description": "Anbindungen und Einstellungen der Messdaten",
        "type": "array",
        "items": {
          "type": "object",
          "additionalProperties": false,
          "required": ["name"],
          "properties": {
            "name": {
              "title": "Messsystem",
              "description": "Interner Name (verwendet für die Datenbank)",
              "type": "string"
            },
            "title": {
              "title": "Titel",
              "description": "Anzuzeigender Titel",
              "type": "string"
            },
            "file": {
              "title": "Datei",
              "description": "Messdaten aus Datei",
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": ["mode", "configfile", "path", "format", "encoding"],
                "properties": {
                  "path": {
                    "title": "Pfad",
                    "description": "absoluter, relativer oder nach GLOB-Pattern definierter Pfad der Datei",
                    "type": "string",
                    "default": "./examples/datafile/*test.txt"
                  },
                  "configfile": {
                    "title": "Pfad der Konfigurationsdatei",
                    "description": "absoluter oder relativer Pfad der Konfiguration der Eigenschaften der Daten",
                    "type": "string",
                    "default": "./examples/config/test.json"
                  },
                  "configInData": {
                    "title": "Konfigurationen in Messdatei",
                    "type": "object",
                    "properties": {
                      "included": {
                        "title": "ist vorhanden",
                        "description": "wenn angegeben, dann werden Teile der Messdatei dahingehend verwendet, dass sie die Konfiguarionsdatei erweitern",
                        "type": "boolean",
                        "default": false
                      },
                      "namesInLine": {
                        "title": "Bezeichnungen der Geräte",
                        "description": "Zeilennummer der Bezeichnungen der Messgeräte",
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 1
                      },
                      "unitsInLine": {
                        "title": "Bezeichnungen der Einheiten",
                        "description": "Zeilennummer der Einheitenbezeichnungen der Messdaten",
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 1
                      },
                    },
                    "default": "./examples/config/test.json"
                  },
                  "mode": {
                    "title": "Modus",
                    "description": "Modus der Überwächung der Datei",
                    "type": "string",
                    "enum": ["once", "append", "prepend", "all", "json"],
                    "enumNames": ["einmaliges Einlesen der Daten", "neue Daten am Ende angefügt", "neue Daten am Anfang angefügt", "gesamte Datei", "Datei im JSON-Format"],
                    "default": "append"
                  },
                  "encoding": {
                    "title": "Kodierung",
                    "type": "string",
                    "enum": ["binary", "text"],
                    "enumNames": ["Binär", "Text"],
                    "default": "text"
                  },
                  "format": {
                    "title": "Eingabeformat der Daten",
                    "type": "object",
                    "properties": {
                      "ignoredFirstLines": {
                        "title": "Anzahl der Zeilen am Anfang, die ignoriert werden sollen",
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 1,
                        "default": 0
                      },
                      "ignoredLastLines": {
                        "title": "Anzahl der Zeilen am Ende, die ignoriert werden sollen",
                        "type": "number",
                        "minimum": 0,
                        "multipleOf": 1,
                        "default": 0
                      },
                      "dateFormat": {
                        "title": "Datumsformat",
                        "description": "YYYY: Jahr, MM: Monat, DD: Tag, hh: Stunde, mm: Minuten, ss: Sekunden, lll: Millisekunden",
                        "type": "string",
                        "default": "YYYY-MM-DD hh:mm:ss"
                      },
                      "decimalSeparator": {
                        "title": "Dezimaltrennzeichen",
                        "type": "string",
                        "enum": [".", ","],
                        "default": "."
                      },
                      "valueSeparator": {
                        "title": "Trennzeichen der Daten untereinander",
                        "type": "string",
                        "default": ";"
                      }
                    }
                  }
                }
              }
            },
            "database": {
              "title": "Datenbank",
              "description": "Messdaten über Datenbankserver",
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": ["mode", "configfile", "path", "format", "encoding"],
                "properties": {
                  "type": {
                    "title": "Typ",
                    "description": "Art der Datenbank",
                    "type": "string",
                    "enum": ["redis"],
                    "enumNames": ["REDIS"]
                  },
                  "host": {
                    "title": "Host",
                    "description": "Hostadresse des Datenbankservers",
                    "type": "string",
                    "default": "localhost"
                  },
                  "port": {
                    "title": "Port",
                    "description": "Port des Datenbankservers",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 65535,
                    "multipleOf": 1,
                    "default": 6379
                  },
                  "db": {
                    "title": "Nummer",
                    "description": "Tabellennummer der Datenbank im Datenbankserver",
                    "type": "number",
                    "minimum": 0,
                    "multipleOf": 1,
                    "default": 0
                  },
                  "configfile": {
                    "title": "Pfad der Konfigurationsdatei",
                    "description": "absoluter oder relativer Pfad der Konfiguration der Eigenschaften der Daten",
                    "type": "string",
                    "default": "./examples/config/test.json"
                  },
                  "mode": {
                    "title": "Modus",
                    "description": "Modus der Überwächung der Datenbank",
                    "type": "string",
                    "enum": ["once", "subscribe"],
                    "enumNames": ["einmaliges Einlesen der Daten", "abonnieren neu hinzugefügter Daten"],
                    "default": "subscribe"
                  },
                  "encoding": {
                    "title": "Kodierung",
                    "type": "string",
                    "enum": ["binary", "text"],
                    "enumNames": ["Binär", "Text"],
                    "default": "binary"
                  }
                }
              }
            },
            "udp": {
              "title": "UDP",
              "description": "Messdaten über UDP-Verbindung",
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": ["mode", "configfile", "path", "format", "encoding"],
                "properties": {
                  "path": {
                    "title": "Netzwerkadresse",
                    "type": "string"
                  },
                  "port": {
                    "title": "Port",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 65535,
                    "multipleOf": 1
                  },
                  "configfile": {
                    "title": "Pfad der Konfiguration",
                    "description": "absoluter oder relativer Pfad der Konfiguration der Eigenschaften der Daten",
                    "type": "string",
                    "default": "./examples/config/test.json"
                  },
                  "mode": {
                    "title": "Modus",
                    "description": "Modus der Überwächung der Datei",
                    "type": "string",
                    "enum": ["once", "all"],
                    "enumNames": ["einmaliges Einlesen der Daten", "gesamte Übertragungen"],
                    "default": "append"
                  },
                  "encoding": {
                    "title": "Kodierung",
                    "type": "string",
                    "enum": ["binary", "text"],
                    "enumNames": ["Binär", "Text"],
                    "default": "text"
                  },
                  "format": {
                    "title": "Format",
                    "description": "Eingabeformat der Daten",
                    "type": "object",
                    "properties": {
                      "dateFormat": {
                        "title": "Datumsformat",
                        "description": "YYYY: Jahr, MM: Monat, DD: Tag, hh: Stunde, mm: Minuten, ss: Sekunden, lll: Millisekunden",
                        "type": "string",
                        "default": "YYYY-MM-DD hh:mm:ss"
                      },
                      "decimalSeparator": {
                        "title": "Dezimaltrennzeichen",
                        "type": "string",
                        "enum": [".", ","],
                        "default": "."
                      },
                      "valueSeparator": {
                        "title": "Trennzeichen der Daten untereinander",
                        "type": "string",
                        "default": ";"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
